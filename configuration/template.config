# Repository Reporting System - Template Configuration
# SPDX-License-Identifier: Apache-2.0
# SPDX-FileCopyrightText: 2025 The Linux Foundation

# Project identifier (can be overridden per-project)
project: default

# Output configuration
output:
  # Sections to include in the report
  include_sections:
    contributors: true
    organizations: true
    repo_feature_matrix: true
    inactive_distributions: true
    global_summary: true
    activity_distribution: true
    all_repositories: true
    contributor_leaderboards: true
    organization_leaderboard: true

# Time windows for analysis (in days)
time_windows:
  last_30_days: 30
  last_90_days: 90
  last_365_days: 365
  last_3_years: 1095

# Unified activity status thresholds
activity_thresholds:
  current_days: 365      # ‚úÖ Current: commits within last 365 days
  active_days: 1095      # ‚òëÔ∏è Active: no commits between 365-1095 days
  # üõë Inactive: no commits in 1095+ days

# Feature detection configuration
features:
  enabled:
    - dependabot
    - github2gerrit_workflow
    - g2g
    - pre_commit
    - readthedocs
    - sonatype_config
    - project_types
    - workflows
    - gitreview

# Workflow classification patterns
workflows:
  classify:
    verify: ["verify", "test", "ci", "check"]
    merge: ["merge", "release", "deploy", "publish"]
    # Everything else will be classified as "other"

# Performance settings
performance:
  max_workers: 8
  cache: false

# Rendering configuration
render:
  # Line count display options
  show_net_lines: true
  show_added_removed: false

  # Number formatting
  abbreviate_large_numbers: true
  large_number_threshold: 10000

  # Emoji indicators
  emoji:
    active: "‚úÖ"
    inactive: "‚ö†Ô∏è"
    missing: "‚ùå"
    present: "‚úÖ"
    very_old: "üî¥"
    old: "üü°"

  # Table formatting
  max_repo_name_length: 50
  max_author_name_length: 30

# Privacy and security
privacy:
  mask_emails: false
  anonymize_authors: false

# Logging configuration
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  include_timestamps: true
  log_per_repo_timing: false

# Data quality settings
data_quality:
  # How to handle unknown/missing emails
  unknown_email_placeholder: "unknown@unknown"

  # Skip binary file changes in LOC calculations
  skip_binary_changes: true

  # NOTE: All commit history is now processed to ensure accurate reporting.
  # Previously, max_history_years limited git log queries, but this caused
  # repositories with only old commits to be misclassified as "no commits".
  # Time window filtering is applied separately during commit processing.

# HTML table configuration
html_tables:
  # Enable sortable/filterable tables using Simple-DataTables
  sortable: true

  # Search functionality
  searchable: true

  # Pagination settings
  pagination: true
  entries_per_page: 20
  page_size_options: [20, 50, 100, 200]

  # Minimum rows required to enable sorting (performance optimization)
  min_rows_for_sorting: 3

# Gerrit API integration
gerrit:
  enabled: false
  host: ""  # e.g., "gerrit.o-ran-sc.org"
  base_url: ""  # optional - will auto-discover if not specified
  timeout: 30.0

# Jenkins API integration
jenkins:
  enabled: false
  host: ""  # e.g., "jenkins.o-ran-sc.org"
  timeout: 30.0

# Extension points for future features
extensions:
  # GitHub API integration for workflow status
  github_api:
    enabled: true
    token: ""  # Will use CLASSIC_READ_ONLY_PAT_TOKEN environment variable if not set
    timeout: 30.0
    include_issues: false
    include_prs: false
    # GitHub organization mapping for Gerrit mirrors
    # Maps Gerrit host to GitHub organization name
    # Used to construct GitHub API URLs for repositories mirrored from Gerrit
    github_org: ""  # e.g., "onap" for gerrit.onap.org repos

  # Language analysis (future)
  language_analysis:
    enabled: false

  # Security scanning (future)
  security_scanning:
    enabled: false

# Schema version for compatibility
schema_version: "1.0.0"
